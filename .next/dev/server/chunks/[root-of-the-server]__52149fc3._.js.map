{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/tarendramallick/Downloads/Jay/Asylic-influencer/app/api/auth/instagram/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\n\nexport function GET() {\n  const clientId = process.env.NEXT_PUBLIC_INSTAGRAM_APP_ID\n  const appUrl = process.env.NEXT_PUBLIC_APP_URL\n\n  if (!clientId) {\n    console.error(\"[v0] Missing NEXT_PUBLIC_INSTAGRAM_APP_ID environment variable\")\n    return NextResponse.json(\n      { error: \"Instagram app is not configured. Please add NEXT_PUBLIC_INSTAGRAM_APP_ID to environment variables.\" },\n      { status: 500 },\n    )\n  }\n\n  if (!appUrl) {\n    console.error(\"[v0] Missing NEXT_PUBLIC_APP_URL environment variable\")\n    return NextResponse.json(\n      { error: \"App URL is not configured. Please add NEXT_PUBLIC_APP_URL to environment variables.\" },\n      { status: 500 },\n    )\n  }\n\n  const redirectUri = `${appUrl}/api/auth/instagram/callback`\n  const scope =\n    \"instagram_business_basic,instagram_business_manage_messages,instagram_business_manage_comments,instagram_business_content_publish,instagram_business_manage_insights\"\n\n  try {\n    const authUrl = new URL(\"https://www.instagram.com/oauth/authorize\")\n    authUrl.searchParams.set(\"client_id\", clientId)\n    authUrl.searchParams.set(\"redirect_uri\", redirectUri)\n    authUrl.searchParams.set(\"scope\", scope)\n    authUrl.searchParams.set(\"response_type\", \"code\")\n\n    console.log(\"[v0] Instagram OAuth redirect URL constructed\")\n    console.log(\"[v0] App URL:\", appUrl)\n    console.log(\"[v0] Redirect URI:\", redirectUri)\n    console.log(\"[v0] Client ID:\", clientId ? clientId.substring(0, 10) + \"...\" : \"MISSING\")\n    console.log(\"[v0] Full auth URL:\", authUrl.toString())\n    return NextResponse.redirect(authUrl.toString())\n  } catch (error) {\n    console.error(\"[v0] Instagram auth route error:\", error)\n    return NextResponse.json({ error: \"Failed to initiate Instagram login\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,MAAM,WAAW,QAAQ,GAAG,CAAC,4BAA4B;IACzD,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB;IAE9C,IAAI,CAAC,UAAU;QACb,QAAQ,KAAK,CAAC;QACd,OAAO,4LAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAqG,GAC9G;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI,CAAC,QAAQ;QACX,QAAQ,KAAK,CAAC;QACd,OAAO,4LAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAsF,GAC/F;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,cAAc,GAAG,OAAO,4BAA4B,CAAC;IAC3D,MAAM,QACJ;IAEF,IAAI;QACF,MAAM,UAAU,IAAI,IAAI;QACxB,QAAQ,YAAY,CAAC,GAAG,CAAC,aAAa;QACtC,QAAQ,YAAY,CAAC,GAAG,CAAC,gBAAgB;QACzC,QAAQ,YAAY,CAAC,GAAG,CAAC,SAAS;QAClC,QAAQ,YAAY,CAAC,GAAG,CAAC,iBAAiB;QAE1C,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,iBAAiB;QAC7B,QAAQ,GAAG,CAAC,sBAAsB;QAClC,QAAQ,GAAG,CAAC,mBAAmB,WAAW,SAAS,SAAS,CAAC,GAAG,MAAM,QAAQ;QAC9E,QAAQ,GAAG,CAAC,uBAAuB,QAAQ,QAAQ;QACnD,OAAO,4LAAY,CAAC,QAAQ,CAAC,QAAQ,QAAQ;IAC/C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,4LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqC,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACF"}}]
}